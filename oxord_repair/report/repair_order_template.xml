<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="report_repair_order_document">
    <t t-call="web.html_container">
      <t t-foreach="docs" t-as="o">


            <!-- FULL PAGE BACKGROUND -->
            <img t-att-src="'/oxord_repair/static/src/img/background.jpg'"
                style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; object-fit:cover;" />

            <style>

              @page {
                  size: A4;
                  margin: 0 !important;
              }

              .oxord-body-wrapper {
                  width: 100%;
                  margin: 0 auto;
                  height: 100%;
                  padding: 20mm 15mm;
                  box-sizing: border-box;
              }


              .oxord-main {
                  width: 100%;
                  margin: 0;
                  padding: 0;
                  display: flex;
                  flex-direction: column;
                  flex-grow: 1;
              }







              /* SECTION STYLE */
              .oxord-section {
                  background-color: #e0f2f1;
                  color: #004d40;
                  padding: 3px 5px;      /* reduced padding to keep width tight */
                  font-weight: bold;
                  margin-top: 2px;
                  border-left: 3px solid #00796b;
                  border-radius: 3px;
              }

              /* TABLES */
              .oxord-table {
                  width: 100%;
                  table-layout: fixed;
                  margin: 0;
                  padding-left: 5mm;  /* inset from wrapper left */
                  padding-right: 5mm; /* inset from wrapper right */
              }

              .oxord-table td, .oxord-table th {
                  padding: 1px 2px;
                  font-size: 12px;
                  word-wrap: break-word;
              }

              .oxord-table td, .oxord-table th {
                  padding: 1px 2px;
                  font-size: 12px;
                  word-wrap: break-word;     /* ensures long text wraps */
                  white-space: pre-wrap;     /* preserves line breaks from the field */
              }

              .oxord-table td.value {
                  width: auto;
              }

              /* Header */
              .oxord-header {
                  text-align: center;
                  border-bottom: 3px solid #009688;
                  padding-bottom: 2px;
                  margin-bottom: 3px;
              }

              .oxord-header img {
                  height: 55px;
              }

              .oxord-header .company-name {
                  font-weight: bold;
                  font-size: 16px;
                  color: #004d40;
              }

              /* Footer */
              .oxord-footer {
                  font-size: 9px;
                  color: #555;
                  margin-top: 10px;
                  text-align: center;
              }


            </style>


            <!-- HEADER -->
            <!-- <div class="oxord-header">
              <table style="width:100%; border-bottom:3px solid #009688; padding-bottom:6px;">
                <tr> -->
                  <!-- LEFT COLUMN: LOGO -->
                  <!-- <td style="width:22%; text-align:left; vertical-align:middle;">
                    <img t-if="o.company_id.logo"
                        t-att-src="'data:image/png;base64,%s' % (o.company_id.logo.decode() if o.company_id.logo else '')"
                        style="height:60px;" alt="Company Logo"/>
                  </td> -->


                  <!-- RIGHT COLUMN: COMPANY DETAILS -->
                  <!-- <td style="text-align:left; vertical-align:middle; color:#004d40;">
                    <div style="font-weight:bold; font-size:16px;">OXORD COMPUTER SOLUTIONS &amp; REPAIR CENTER</div>
                    <div style="font-size:11px;">2F Robinsons Place Roxas, Pueblo de Panay Lawa-an, Roxas City</div>
                    <div style="font-size:11px;">Tel: (036) 621-XXXX | www.oxord.com.ph | FB: @OxordPH</div>
                  </td>
                </tr>
              </table>
            </div> -->

            <div class="oxord-body-wrapper" style="
                position: relative;
                width: calc(100% - 5cm);
                margin-left: 2cm;     
                margin-right: 3cm;    
                padding-top: 8.2cm;
                padding-bottom: 5cm;
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                box-sizing: border-box;
                min-height: calc(100% - 2cm);
            ">








                  
              <div style="text-align:left; font-weight:bold; color:#004d40; font-size:15px;">
                CLAIM FORM NO: <t t-esc="o.name"/>
              </div>

                  <!-- CUSTOMER INFO -->
                  <div class="oxord-section">Customer Information</div>
                  <table class="oxord-table">
                    <tr><td class="label">Customer:</td><td><t t-esc="o.partner_id.name or '-'"/></td></tr>
                    <tr><td class="label">Address:</td><td><t t-esc="o.partner_street or ''"/> <t t-esc="o.partner_city or ''"/> <t t-esc="o.partner_zip or ''"/></td></tr>
                    <tr><td class="label">Telephone:</td><td><t t-esc="o.partner_id.phone or '-'"/></td></tr>
                    <tr><td class="label">Email:</td><td><t t-esc="o.partner_id.email or '-'"/></td></tr>
                    <tr><td class="label">Facebook:</td><td><t t-esc="o.partner_id.facebook or '-'"/></td></tr>
                    

                  </table>

                  <!-- UNIT INFO -->
                  <div class="oxord-section">Unit Information</div>
                  <table class="oxord-table">
                    <tr><td class="label">Department:</td><td><t t-esc="o.department_id.name or '-'"/></td></tr>
                    <tr><td class="label">Unit Type:</td><td><t t-esc="o.unit_type_id.name or '-'"/></td></tr>
                    <tr><td class="label">Brand:</td><td><t t-esc="o.brand_id.name or '-'"/></td></tr>
                    <tr><td class="label">Model:</td><td><t t-esc="o.model_id.name or '-'"/></td></tr>
                    <tr><td class="label">Serial No.:</td><td><t t-esc="o.serial or '-'"/></td></tr>
                    <tr><td class="label">Accessories:</td><td><t t-esc="' , '.join([a.name for a in o.accessory_ids])"/></td></tr>
                    <tr><td class="label">Password:</td><td><t t-esc="o.password or '-'"/></td></tr>
                    <tr><td class="label">Problem:</td><td><t t-esc="' , '.join([p.name for p in o.problem_ids])"/></td></tr>
                    

                  </table>

                  <!-- RECEIVING -->
                  <div class="oxord-section">Receiving Details</div>
                  <table class="oxord-table">
                    <tr>
                      <td class="label">Received Date:</td>
                      <td><t t-esc="o._format_datetime(o.received_date)"/></td>
                    </tr>
                    <tr>
                      <td class="label">Received By:</td>
                      <td><t t-esc="o.received_by.name or '-'"/></td>
                    </tr>
                    <tr>
                      <td class="label">Remarks:</td>
                      <td><t t-esc="o.remarks or '-'"/></td>
                    </tr>
                    <tr>
                      <td class="label">Service Type:</td>
                      <td><t t-esc="dict(o._fields['service_type'].selection).get(o.service_type)"/></td>
                    </tr>
                    <tr>
                      <td class="label">Branch:</td>
                      <td><t t-esc="dict(o._fields['branch'].selection).get(o.branch)"/></td>
                      
                    </tr>

                    <!-- WARRANTY INFO (merged here) -->
                    <tr>
                      <td class="label">POP Date:</td>
                      <td><t t-esc="o.pop_date or '-'"/></td>
                    </tr>
                    <tr>
                      <td class="label">Warranty Expiry Date:</td>
                      <td><t t-esc="o.warranty_expiry_date or '-'"/></td>
                    </tr>
                    <tr>
                      <td class="label">Warranty Status:</td>
                      <td><t t-esc="dict(o._fields['warranty_status'].selection).get(o.warranty_status) or '-'"/></td>
                      
                    </tr>
                  </table>


                  <!-- SERVICE DETAILS -->
                  <div class="oxord-section">Service Details</div>
                  <table class="oxord-table">
                    <tr><td class="label">Technician:</td><td><t t-esc="o.endorse_to_tech.name or '-'"/></td></tr>
                    <tr><td class="label">Action Taken:</td><td><t t-esc="o.action_taken or '-'"/></td></tr>
                    <tr><td class="label">Technician Remarks:</td><td><t t-esc="o.technician_remarks or '-'"/></td></tr>
                    <tr><td class="label">Labor Amount</td><td><t t-esc="o.labor_amount or 0.0"/> PHP</td></tr>
                    
                  </table>

                  <!-- TERMS -->
                  <div class="oxord-section">Terms &amp; Conditions</div>
                  <ol style="font-size:13px; padding-left:15px; margin: 0;">
                    <li>I am the owner of the unit and have permitted Oxord Computer Solutions to perform the necessary repair and replace the needed parts (if necessary).</li>
                    <li>The unit was checked in my presence and the details and remarks stated above are true</li>
                    <li>A CLAIM FORM should be presented upon claiming the unit. I understand that if no claim form is presented, my unit will not be released</li>
                    <li>If the warranty is void or expired, I will pay for labot and/or parts.</li>
                    <li>I shall pay the check-up fee for my out-of-warranty unit in the amount of three hundred fifty pesos (Php350).</li>
                    <li>I understand that I have beem given 7 days to claim the unit after I receive notification from OXORD to claim the unit, and if the unit is unclaimed after 7 days, I willcharged a storage fee of 50 pesos per day if not claimed within 30 days</li>
                    <li>I understand that after 30 days, my unclaimed unit will be fofeited to cover the cost of storage and I authorize OXORD Computer Solutions &amp; Repair Center to dispose of my unit if I fail to pick-up or pull-out</li>
                    <li>In such a manner that I cannot claim my unit, I will send my authorized representative with an autoraized letter and proof of identification to claim my unit.</li>
                    <li>I shall hold OXORD Computer Solutions &amp; Repaair Center free from liability and no responsibility in the event of loss and damage cause by a natural disaster such as fire, flood, typhoon. or force of majeure.</li>
                    <li>Understand that I am responsible for saving or backing up any data on my unit's storage device(s) before sending it to OXORD for service. OXORD will not be responsible for any damage or loss due to the loss or corruption of data in my unit. Once OXORD receives the unit, I understand that it is ready for format (if needed)   </li>
                    
                  </ol>

                  <!-- ACKNOWLEDGEMENT UPON RELEASED -->
                  <div class="oxord-section">Acknowledgement upon Released</div>

                  <div style="border: 1px solid #18b1b6ff; border-radius: 6px; padding:10px; margin-top:8px; font-size:13px;">
                    <p style="margin:0 0 10px 0;">
                      I hereby acknowledge that I have received the unit in good condition and to my satisfaction.
                    </p>

                    <table style="width:100%; border-collapse:collapse; margin-top:8px; font-size:13px;">
                      <tr>
                        <!-- Customer side -->
                        <td style="width:50%; border-right:1px solid #18b1b6ff; padding:10px; vertical-align:top;">
                          <div style="text-align:center; font-weight:bold; color:#2f539b;">Customer</div>
                          <div style="margin-top:25px; text-align:center;">
                            ___________________________<br/>
                            <span style="font-size:13px;">Print Name &amp; Signature</span><br/>
                            <span style="font-size:13px;">Date: ___________________</span>
                          </div>
                        </td>

                        <!-- Released by side -->
                        <td style="width:50%; padding:10px; vertical-align:top;">
                          <div style="text-align:center; font-weight:bold; color:#2f539b;">Released By</div>
                          <div style="margin-top:25px; text-align:center;">
                            ___________________________<br/>
                            <span style="font-size:12px;">Print Name &amp; Signature</span><br/>
                            <span style="font-size:12px;">Date: ___________________</span>
                          </div>
                        </td>
                      </tr>
                    </table>
                  </div>

                  <div class="oxord-footer" style="margin-top:10px;">
                    This document is system-generated by Oxord Repair Management System.
                  </div>

            </div>
      </t>
    </t>
  </template>
</odoo>
