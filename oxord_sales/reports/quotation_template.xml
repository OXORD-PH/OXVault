<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- QUOTATION REPORT TEMPLATE -->
    <template id="quotation_template">
        <t t-name="oxord_sales.quotation_template">
            <main>

                <t t-foreach="docs" t-as="o">

                    <style>
                        @page { size:A4; margin:0; }
                        main { page-break-after:avoid; page-break-before:avoid; }

                        body {
                            font-family: Arial, sans-serif;
                            font-size: 14px;
                            color:#000;
                        }

                        .oxord-body-wrapper {
                            width:100%;
                            padding:8mm;
                            box-sizing:border-box;
                        }

                        .oxord-section {
                            background-color:#e0f2f1;
                            color:#000;
                            padding:3px 6px;
                            font-weight:bold;
                            margin-top:2mm;
                            border-left:3px solid #00796b;
                            border-radius:3px;
                            font-size:13px;
                        }

                        .tech-box {
                            border:1px solid #00796b;
                            border-radius:5px;
                            padding:6px 8px;
                            margin-bottom:2mm;
                            background-color:#f0f5f5;
                            font-size:12px;
                        }

                        table {
                            width:100%;
                            border-collapse:collapse;
                        }

                        th {
                            background-color:#00796b;
                            color:#fff;
                            padding:6px;
                            font-size:12px;
                        }

                        td {
                            border:1px solid #00796b;
                            padding:6px;
                            font-size:12px;
                        }

                        .no-border td {
                            border:none;
                            padding:3px 5px;
                        }

                        .total-row {
                            font-weight:bold;
                            border-top:2px solid #00796b;
                        }

                        .oxord-footer {
                            font-size:11px;
                            color:#555;
                            margin-top:6px;
                            text-align:center;
                        }
                    </style>

                    <!-- HEADER -->
                    <table style="width:100%; border-bottom:2px solid #009688; margin-left:2; margin-right:2;">
                        <tr>
                            <td style="width:22%;">
                                <img t-if="o.company_id.logo"
                                     t-att-src="'data:image/png;base64,%s' % o.company_id.logo.decode()"
                                     style="height:50px;"
                                     alt="Company Logo"/>
                            </td>
                            <td>
                                <div style="font-size:15px; font-weight:bold;">
                                    OXORD COMPUTER SOLUTIONS &amp; REPAIR CENTER
                                </div>
                                <div style="font-size:12px;">
                                    2F Robinsons Place Roxas, Pueblo de Panay Lawa-an, Roxas City
                                </div>
                                <div style="font-size:12px;">
                                    La Hacienda Annex Bldg., Arnaldo Blvd., Roxas City, Capiz
                                </div>
                            </td>
                        </tr>
                    </table>

                    <!-- BODY -->
                    <div class="oxord-body-wrapper">

                        <!-- QUOTATION TITLE -->
                        <div style="font-size:30px; font-weight:bold; margin-top:4mm; margin-bottom:4mm;">
                            QUOTATION
                        </div>

                        <!-- QUOTATION DETAILS -->
                        <div class="oxord-section">Quotation Details</div>
                        <div class="tech-box">
                            <table class="no-border">
                                <tr>
                                    <td style="width:30%;">Quotation No:</td>
                                    <td><t t-esc="o.name"/></td>
                                </tr>
                                <tr>
                                    <td>Date:</td>
                                    <td><t t-esc="o.date_order"/></td>
                                </tr>
                                <tr>
                                    <td>Customer:</td>
                                    <td><t t-esc="o.partner_id.name"/></td>
                                </tr>
                                <tr>
                                    <td>Address:</td>
                                    <td>
                                        <t t-esc="o.partner_id.street or ''"/>
                                        <t t-esc="o.partner_id.city or ''"/>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <!-- INTRO TEXT -->
                        <p style="margin-top:4mm; margin-bottom:4mm; font-size:14px;">
                            Dear Ma'am/Sir,<br/>
                            We are pleased to provide you with a quote for the items related to your inquiry.
                        </p>


                        <!-- QUOTATION LINES -->
                        <div class="oxord-section">Quotation Items</div>
                        <div class="tech-box">
                            <table>
                                <thead>
                                    <tr>
                                        <th style="width:45%;">Description</th>
                                        <th style="width:15%; text-align:center;">Qty</th>
                                        <th style="width:20%; text-align:right;">Unit Price</th>
                                        <th style="width:20%; text-align:right;">Subtotal</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="o.order_line" t-as="line">
                                        <tr>
                                            <td>
                                                <strong><t t-esc="line.name"/></strong>
                                            </td>
                                            <td style="text-align:center;">
                                                <t t-esc="line.product_uom_qty"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-esc="'PHP %.2f' % line.price_unit"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-esc="'PHP %.2f' % line.price_subtotal"/>
                                            </td>
                                        </tr>
                                    </t>

                                    <tr class="total-row">
                                        <td colspan="3" style="text-align:right;">TOTAL</td>
                                    <td style="text-align:right;">
                                        <span style="background-color: yellow; padding:2px 4px; border-radius:2px; font-weight:bold;">
                                            <t t-esc="'PHP %.2f' % o.amount_total"/>
                                        </span>
                                    </td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- THANK YOU TEXT -->
                        <div style="margin-top:4mm; margin-bottom:4mm; font-size:14px;">
                            Thank you for giving us opportunity to serve you.
                        </div>

                        <!-- NOTE -->
                        <div class="oxord-section">Note</div>
                        <div class="tech-box">
                            Note: Prices, specifications &amp; stocks availability may change even without prior notice. For order basis items, we need approved PO first before we can process your order.
                        </div>

                        
                        <!-- SIGNATURES -->
                        <div class="oxord-section" style="margin-top:6mm;">Authorized Signatures</div>
                        <div class="tech-box" style="font-size:14px;">
                            <table style="width:100%;">
                                <tr>
                                    <!-- LEFT SIDE: Sales Representative -->
                                    <td style="width:50%; text-align:left; vertical-align:top;">
                                        Sincerely,<br/><br/><br/><br/>
                                        <b><t t-esc="o.user_id.name or ''"/></b><br/>
                                        Sales Representative<br/>
                                        Oxord Computer Solutions
                                    </td>
                        
                                    <!-- RIGHT SIDE: Customer Confirmation -->
                                    <td style="width:50%; text-align:left; vertical-align:top;">
                                        If you find this proposal acceptable, please confirm by indicating your name &amp; signature below:<br/><br/><br/><br/>
                                        ___________________________<br/>
                                        Print Name &amp; Signature<br/><br/>
                                        Date: ________________________
                                    </td>
                                </tr>
                            </table>
                        </div>


                        <!-- FOOTER -->
                        <div class="oxord-footer">
                            <div>
                                <strong>Office:</strong> (036) 522-2552 | (036) 621-3621
                            </div>
                            <div>
                                <strong>Sales:</strong> 0963 045 4012
                            </div>
                            <div style="margin-top:3px;">
                                This document is system-generated by OXORD Digital Infrastructure Services.
                            </div>
                        </div>

                    </div>
                </t>
            </main>
        </t>
    </template>

</odoo>

